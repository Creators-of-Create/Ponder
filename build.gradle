apply from: 'gradle/property_loader.gradle'
apply from: 'gradle/build_number.gradle'

def projVersion = project.version

subprojects {

    project.version = projVersion

    apply plugin: 'maven-publish'

    apply plugin: 'idea'
    apply plugin: 'eclipse'

    apply from: '../gradle/property_loader.gradle'
    apply from: '../gradle/java.gradle'
    apply from: '../gradle/minify_jsons.gradle'
    apply from: '../gradle/signing.gradle'

    // Enable Mixins
    project.ext.mixin_enabled = project.file("src/main/resources/${mod_id}.mixins.json").exists()
    project.logger.lifecycle("Mixin ${project.ext.mixin_enabled ? 'enabled' : 'disabled'} for project ${mod_id}:${project.name}.")

    repositories {

        maven {
            name = 'Mod Menu'
            url = 'https://maven.terraformersmc.com/releases/'
        }

        maven {
            name = "Fuzs Mod Resources"
            url = "https://raw.githubusercontent.com/Fuzss/modresources/main/maven/"
        }

        maven {
            name = "JitPack"
            url = "https://jitpack.io"
        }

        maven {
            name = "Jay's Maven"
            url = "https://mvn.devos.one/snapshots/"
        }

        maven {
            // location of the maven for Registrate and Flywheel
            name = 'tterrag Maven'
            url = 'https://maven.tterrag.com'
        }

        maven {
            name = "Createmod"
            url = "https://maven.createmod.net"
        }

    }
}
